context_planner_task:
  description: >
    A partir de {topic}, identifique os dados essenciais:
    região, estado, cidade, área, escolaridade, faixa salarial,
    datas de inscrição e prova, vagas e órgão.  
    Retorne um JSON com esses campos preenchidos conforme possível.
  expected_output: >
    {"region": "", "state": "", "city": "", "area": "", "education": "",
     "salary_range": "", "registration_deadline": "", "exam_date": "",
     "vacancies": "", "organization": ""}
  agent: context_planner_agent

webscrap_task:
  description: >
    Usando o JSON do context_planner_agent, colete dados sobre {topic} em {url}.
    Utilize ConcursoScrapeTool({url}, state, abbreviation) e ScrapflyTool({url}).
    Retorne apenas informações úteis (título, vagas, salários, inscrições, links).
  expected_output: >
    {"results": [{"title": "", "vacancies": "", "salary": "", "registration_end": "", "link": ""}]}
  agent: webscrap_agent

csv_rag_task:
  description: >
    Filtre o CSV {user_id}_{timestamp}.csv pelos critérios do usuário e mantenha
    apenas concursos ativos e relevantes para {topic}.
  expected_output: >
    {"filtered_csv": "path/to/file.csv", "entries": [{"title": "", "link": ""}]}
  agent: csv_rag_agent

data_analysis_task:
  description: >
    Analise os dados coletados sobre {topic} e identifique padrões:
    número de concursos ativos, médias salariais e prazos.
  expected_output: >
    {"summary": {"total": 0, "avg_salary": 0, "upcoming_deadlines": []}}
  agent: data_analysis_agent

content_resume_task:
  description: >
    Transforme os insights da análise em um resumo breve (máx. 4000 caracteres).
    Foque em clareza, utilidade e tom informativo para Telegram.
  expected_output: >
    Texto com até 4000 caracteres resumindo as descobertas sobre {topic}.
  agent: content_resume_agent

final_report_task:
  description: >
    Compile os dados e resumos anteriores em um relatório final em texto simples.
    Liste os concursos identificados e as URLs consultadas.
  expected_output: >
    Texto final consolidado, sem markdown, com links e informações relevantes.
  agent: final_report_agent

